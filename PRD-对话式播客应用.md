# 产品需求文档（PRD）：对话式播客应用

> 一款个性化播客生成应用，基于用户兴趣自动从RSS等信息源生成二人对话式播客，通过TTS语音播放。
> 参考产品思路：Huxe（个性化音频简报）、NotebookLM Audio Overview（对话式内容呈现）。

---

## 一、产品愿景与定位

### 1.1 愿景

**「你的兴趣，AI为你播报。」**

让用户在一个地方完成：**选择兴趣话题 → 系统自动订阅信息源 → 周期性生成对话式播客 → 随时收听**。
产品以「个性化播客」为中心，具备长期记忆和兴趣理解，像 Huxe 的音频简报一样，按主题持续更新，最终形成属于用户自己的、可定制、可回溯的「个人电台」。

### 1.2 产品定位

| 维度 | 说明 |
|------|------|
| **形态** | macOS 原生桌面客户端（Swift + SwiftUI） |
| **核心价值** | 个性化播客生成：基于用户兴趣自动生成二人对话式播客，通过TTS语音播放，解放双眼 |
| **差异化** | 记忆 + 信息流（RSS/智能数据源）+ 自动生成对话播客 + 风格可定制 + 开源可扩展，与 Huxe 的「个性化音频简报」思路对齐，但更聚焦于主题订阅和对话式呈现 |

### 1.3 参考 Huxe 的对应关系

| Huxe 概念 | 本产品对应 |
|-----------|------------|
| 连接邮箱/日历等数据流 | 连接 **RSS 订阅** 与 **智能数据源**（Hacker News、Reddit等）作为信息流 |
| 每日音频简报 | **周期性播客生成**：按主题或时间触发，基于RSS内容生成二人对话式播客 |
| 随时打断、追问 | **实时对话功能**（后续版本）：在收听播客时随时打断提问，AI基于记忆与当前内容回答 |
| Live Station（持续跟踪主题） | **主题/源维度的订阅**：为每个主题配置RSS源、更新频率与播客生成规则 |
| 个性化、记忆 | **用户级记忆**：兴趣话题、偏好、收听历史，供内容推荐和播客生成复用 |

---

## 二、用户与场景

### 2.1 目标用户

- 有 **信息获取需求** 但没时间阅读长文的人
- 希望在 **通勤、运动、做家务** 时高效获取信息的人
- 喜欢 **播客形式** 但找不到符合自己兴趣的节目的人
- 偏好 **本地/桌面、可掌控数据** 的 Mac 用户

### 2.2 典型场景

1. **晨间/晚间播客**
   打开应用，播放基于今日RSS内容生成的播客；两个虚拟主播讨论科技新闻、开发技巧等用户关注的话题。

2. **主题深挖**
   对某个主题（如「Swift 并发」）订阅若干 RSS 源；应用周期性拉取并生成该主题的播客节目；用户可随时收听最新一期。

3. **个性化电台**
   首次登录时选择感兴趣的话题（如「产品设计」「AI技术」「创业」）；系统自动映射到相关RSS源；每天生成个性化播客，形成专属电台。

4. **长期记忆优化**
   系统记住用户的收听习惯和兴趣变化；自动调整内容推荐和播客生成策略；用户越用越懂自己。

---

## 三、目标与成功指标

### 3.1 产品目标

- **V0.1**：完成「兴趣话题选择 + RSS订阅 + 播客生成 + 音频播放」的闭环，支持周期性自动生成播客。
- **后续**：支持用户与AI实时对话、打断播客提问、主题级别的「站」（类似 Live Station），以及插件/扩展生态（开源友好）。

### 3.2 成功指标（可后续细化）

| 类型 | 指标示例 |
|------|----------|
| 使用 | 周活跃天数、每次收听时长、生成播客次数、完播率 |
| 价值 | 用户反馈「节省阅读时间」「发现感兴趣内容」、兴趣话题匹配准确度 |
| 生态 | 开源后 Star/Fork、外部贡献（PR、插件/适配器）数量 |

---

## 四、功能需求

### 4.1 兴趣话题与订阅（对应 Huxe 的「连接数据流」）

| 功能 | 描述 | 优先级 |
|------|------|--------|
| 首次话题选择 | 用户首次登录时，从预设话题列表中选择感兴趣的领域（如「Swift开发」「产品设计」「AI技术」），系统自动映射到相关RSS源 | P0 |
| 话题管理 | 添加/编辑/删除感兴趣的话题，调整话题优先级，系统动态调整RSS订阅 | P0 |
| RSS 订阅管理 | 查看和管理系统自动订阅的RSS源，支持手动添加/删除源，按话题分组 | P0 |
| 智能数据源 | 除RSS外，支持从Hacker News、Reddit等平台根据话题自动获取内容 | P1 |
| 主题/「站」配置 | 将若干RSS源绑定为一个主题（如「Swift 与 macOS」），并配置更新频率、播客生成策略 | P1 |

#### 4.1.1 推荐免费RSS源列表

为方便用户快速开始，应用内置以下常见免费RSS源推荐（用户可一键订阅）：

**科技媒体**
- TechCrunch: `https://techcrunch.com/feed/` - 全球科技创业与产品资讯
- The Verge: `https://www.theverge.com/rss/index.xml` - 科技、文化与产品评测
- Ars Technica: `https://feeds.arstechnica.com/arstechnica/index` - 深度技术分析
- Hacker News: `https://news.ycombinator.com/rss` - 技术社区热门讨论
- 36氪: `https://36kr.com/feed` - 中文科技创投媒体
- 少数派: `https://sspai.com/feed` - 数字生活与效率工具
- InfoQ中文: `https://www.infoq.cn/feed` - 软件开发与架构

**开发者社区**
- Dev.to: `https://dev.to/feed` - 开发者文章与教程
- GitHub Blog: `https://github.blog/feed/` - GitHub官方动态
- Stack Overflow Blog: `https://stackoverflow.blog/feed/` - 编程问答社区博客
- CSS-Tricks: `https://css-tricks.com/feed/` - 前端开发技巧

**设计与产品**
- Smashing Magazine: `https://www.smashingmagazine.com/feed/` - Web设计与开发
- A List Apart: `https://alistapart.com/main/feed/` - Web标准与最佳实践
- Nielsen Norman Group: `https://www.nngroup.com/feed/rss/` - UX研究与设计

**新闻媒体**
- BBC News: `http://feeds.bbci.co.uk/news/rss.xml` - 国际新闻
- Reuters: `https://www.reutersagency.com/feed/` - 路透社新闻
- MIT Technology Review: `https://www.technologyreview.com/feed/` - 科技评论

**Apple/Swift生态**
- Swift.org Blog: `https://www.swift.org/blog/rss.xml` - Swift官方博客
- NSHipster: `https://nshipster.com/feed.xml` - iOS/macOS开发深度文章
- SwiftLee: `https://www.avanderlee.com/feed/` - Swift开发技巧

**实现建议**：
- 在首次启动或订阅管理界面提供「推荐源」分类浏览
- 支持按类别批量订阅（如「订阅所有科技媒体」）
- 定期更新推荐列表，可通过配置文件或远程更新
- 用户可自定义隐藏/显示推荐分类

#### 4.1.2 智能数据源（基于对话内容自动发现）

除了用户手动订阅RSS，应用可根据对话内容自动搜索相关语料，实现「记录对话 → 发现相关内容 → 继续对话」的智能闭环。

**社交讨论平台（推荐优先实现）**

| 数据源 | API地址 | 适用场景 | 实现难度 | 优先级 |
|--------|---------|----------|----------|--------|
| Hacker News | `https://github.com/HackerNews/API` | 技术讨论、创业话题，质量高 | 低（无需认证，JSON格式） | P0 |
| Reddit | `https://www.reddit.com/dev/api` | 各类主题深度讨论，覆盖面广 | 中（需OAuth，但文档完善） | P1 |
| Stack Exchange | `https://api.stackexchange.com` | 技术问答，权威性强 | 低（免费额度充足） | P1 |

**中文内容生态（RSSHub）**

| 数据源 | 说明 | 优先级 |
|--------|------|--------|
| RSSHub | 开源项目，可将知乎、B站、微博、GitHub、豆瓣等转为RSS | P1 |
| 部署方式 | 自建服务或使用公共实例 `https://docs.rsshub.app` | - |
| 使用场景 | 根据对话关键词动态订阅特定话题（如「知乎-Swift话题」） | - |

**知识库与学术资源**

| 数据源 | API地址 | 适用场景 | 优先级 |
|--------|---------|----------|--------|
| Wikipedia | `https://www.mediawiki.org/wiki/API` | 背景知识、概念解释 | P1 |
| arXiv | `https://arxiv.org/help/api` | 学术论文、前沿研究 | P2 |
| Semantic Scholar | `https://www.semanticscholar.org/product/api` | 学术搜索、论文引用 | P2 |

**内容聚合平台**

| 数据源 | API地址 | 适用场景 | 优先级 |
|--------|---------|----------|--------|
| Product Hunt | `https://api.producthunt.com/v2/docs` | 产品发现、创业灵感 | P2 |
| Dev.to | `https://developers.forem.com/api` | 开发者文章（也有RSS） | P2 |

**用户个人内容库（可选）**

| 数据源 | API地址 | 适用场景 | 优先级 |
|--------|---------|----------|--------|
| Pocket | `https://getpocket.com/developer` | 用户稍后读列表，相关性高 | P2 |
| Raindrop.io | `https://developer.raindrop.io` | 用户书签管理 | P2 |

**实现策略**：
1. **V0.1**: RSS订阅 + Hacker News API（验证自动发现能力）
2. **V0.2**: 增加Wikipedia API（补充背景知识）+ RSSHub支持（中文内容）
3. **V0.3**: Reddit API + Stack Exchange API（扩展讨论来源）
4. **后续**: 学术资源、用户书签等按需扩展

**技术实现**：
- 提取对话关键词（使用LLM或TF-IDF）
- 并行调用多个API搜索相关内容
- 按相关度和时效性排序
- 去重并展示在信息流中，标注来源
- 用户可选择「基于此内容继续对话」或「生成博客」

### 4.2 播客生成（对应 Huxe 的「音频简报」）

| 功能 | 描述 | 优先级 |
|------|------|--------|
| 二人对话脚本生成 | 基于RSS内容生成两个虚拟主播的对话脚本，模拟自然的讨论和观点交流 | P0 |
| 主播风格配置 | 用户可自定义主播风格（如「轻松闲聊」「严肃分析」「幽默吐槽」），调整对话节奏和语气 | P0 |
| 周期性自动生成 | 按主题或按时间（如每日/每周）自动拉取RSS内容并生成播客，无需手动触发 | P0 |
| 生成策略配置 | 可选播客长度（5分钟/15分钟/30分钟）、内容深度（快速浏览/深度分析）、是否引用原文 | P1 |
| 手动生成播客 | 用户可选择特定RSS内容或主题，手动触发生成播客 | P1 |
| 生成历史管理 | 保留历史生成的播客，支持回听、删除、导出 | P1 |

### 4.3 音频播放（核心体验）

| 功能 | 描述 | 优先级 |
|------|------|--------|
| TTS语音合成 | 将播客脚本转换为语音，支持多种TTS引擎（如macOS系统TTS、OpenAI TTS、ElevenLabs等） | P0 |
| 音频播放器 | 支持播放/暂停、进度条拖动、倍速播放（0.5x-2x）、音量控制 | P0 |
| 播客列表 | 展示已生成的播客列表，按时间/主题分类，显示播放状态（未听/已听/进行中） | P0 |
| 后台播放 | 支持最小化窗口后继续播放，显示播放控制在菜单栏 | P1 |
| 播放历史 | 记录播放历史和进度，支持断点续播 | P1 |
| 音频导出 | 导出播客为MP3/M4A文件，便于在其他设备收听 | P2 |

### 4.4 记忆（对应 Huxe 的「个性化与记忆」）

记忆功能用于优化内容推荐和播客生成，通过持续记录用户兴趣和收听习惯，提供个性化体验。

| 功能 | 描述 | 优先级 |
|------|------|--------|
| 收听历史记录 | 记录用户收听的播客、完播率、跳过的内容，分析用户偏好 | P0 |
| 兴趣话题自动优化 | 根据收听行为自动调整话题权重，推荐更相关的内容 | P0 |
| 兴趣话题手动管理 | 用户可手动添加/编辑/删除感兴趣的话题，标记优先级，设置是否用于内容推荐 | P0 |
| 用户偏好记录 | 记录用户偏好（如主播风格、播客长度、内容深度），在生成时自动应用 | P0 |
| 记忆可视化 | 以时间线、主题图谱展示用户的兴趣演变和收听习惯 | P1 |
| 记忆管理 | 查看、编辑或删除记忆条目，支持导出记忆数据 | P1 |
| 隐私控制 | 用户可设置哪些内容不被记录，或设置记忆保留期限 | P2 |

**记忆的使用场景**：
1. **智能内容推荐**：根据兴趣话题和收听历史自动搜索相关RSS内容
2. **个性化播客生成**：基于用户偏好自动调整播客风格、长度和深度
3. **兴趣演变追踪**：用户可回顾自己的兴趣变化和知识成长轨迹

### 4.5 对话与问答（后续版本，对应 Huxe 的「随时打断、追问」）

| 功能 | 描述 | 优先级 |
|------|------|--------|
| 实时对话打断 | 在收听播客时随时打断，向AI提问或追问细节 | P2（V0.2+） |
| 上下文理解 | AI可引用当前播客内容和用户记忆回答问题 | P2（V0.2+） |
| 对话历史 | 保存对话记录，纳入记忆池供后续引用 | P2（V0.2+） |
| 基于对话生成播客 | 用户可通过对话整理想法，然后生成定制播客 | P2（V0.3+） |

### 4.6 系统与体验

| 功能 | 描述 | 优先级 |
|------|------|--------|
| 本地优先 | 数据默认存储在本地，敏感信息不强制上云 | P0 |
| LLM 配置 | 支持配置 API Key 与模型（OpenAI/兼容接口、本地模型等），用于播客脚本生成 | P0 |
| TTS 配置 | 支持配置TTS引擎（macOS系统TTS、OpenAI TTS、ElevenLabs等），调整语速、音色 | P0 |
| 基础设置 | 主题、字体、通知（如「有新播客生成」）、自动播放等 | P1 |
| 快捷键 | 支持播放/暂停、跳转、音量调节等快捷键操作 | P1 |
---

## 五、非目标（本期不做）

- **不做** 文字博客形态；形态为音频播客。
- **不做** 移动端或 Web 端（首版仅 macOS 桌面，后续可扩展）。
- **不做** 内置账号体系与云同步（可为后续版本或社区插件）。
- **不做** V0.1版本的实时对话功能，聚焦「兴趣话题 + 播客生成 + 音频播放」场景。
- **不做** 视频播客或多人对话（仅二人对话形式）。

---

## 六、信息架构与主流程（示意）

```
┌─────────────────────────────────────────────────────────────────┐
│  侧栏：兴趣话题 / RSS源 / 播客列表 / 收听历史 / 设置              │
├─────────────────────────────────────────────────────────────────┤
│  主区：                                                            │
│  · 播客列表视图（按时间/主题展示已生成播客） 或                   │
│  · 播放视图（当前播客信息 + 播放控制 + 进度条） 或                │
│  · 话题管理视图（选择/编辑感兴趣的话题）                          │
├─────────────────────────────────────────────────────────────────┤
│  底部：播放控制栏（播放/暂停、进度、音量、倍速）                   │
└─────────────────────────────────────────────────────────────────┘
```

**核心流程**：
首次登录选择话题 → 系统映射RSS源 → 周期性拉取内容 → 生成二人对话播客 → TTS转语音 → 用户收听 → 记录偏好 → 优化推荐。

---

## 七、技术约束与开源规划（与现有技术选型一致）

- **平台**：macOS 原生，Swift + SwiftUI。
- **存储**：本地优先，SwiftData / Core Data 或等价方案；记忆与收听历史可设计为便于导出与迁移。
- **音频处理**：TTS集成（macOS AVSpeechSynthesizer、OpenAI TTS API、ElevenLabs API等），音频播放（AVFoundation）。
- **依赖**：SPM 管理，尽量少依赖，便于他人参与。
- **开源**：计划开源，模块划分清晰（RSS、智能数据源、记忆、播客生成、TTS、音频播放、UI），便于社区贡献适配器、新源、新TTS引擎。
- **扩展**：预留「数据源适配器」「播客生成策略」「TTS引擎」等接口，便于生态扩展。

---

## 八、版本规划（建议）

| 版本 | 范围 |
|------|------|
| **V0.1** | 兴趣话题选择 + RSS订阅与管理 + 二人对话播客生成 + TTS语音合成 + 音频播放器 + 基础记忆（收听历史） |
| **V0.2** | 智能数据源（Hacker News、Wikipedia）+ 主题/「站」配置 + 主播风格自定义 + 记忆可视化 |
| **V0.3** | 实时对话打断功能 + RSSHub支持（中文内容）+ Reddit/Stack Exchange集成 + 音频导出 |
| **V0.4** | 基于对话生成定制播客 + 高级记忆管理 + 多TTS引擎支持 + 完整设置界面 |
| **V1.0** | 稳定体验 + 完整文档 + 开源发布，预留扩展点（数据源适配器、播客生成策略、TTS引擎插件） |

**V0.1核心闭环**：用户选择兴趣话题 → 系统自动订阅RSS源 → 周期性拉取内容 → 生成二人对话播客 → TTS转语音 → 用户收听 → 记录偏好。这是产品最小可用版本（MVP），验证「话题选择→自动生成→语音播放」的完整价值链。

---

## 九、风险与依赖

- **LLM 成本与限流**：播客脚本生成依赖外部 API，需考虑用量与降级策略（如缓存、限频、支持本地模型）。
- **TTS 成本与质量**：高质量TTS（如OpenAI TTS、ElevenLabs）有成本，需提供macOS系统TTS作为免费备选；语音质量影响用户体验。
- **RSS/数据源稳定性**：源失效、反爬、格式变更；需错误处理与可配置重试。
- **播客生成质量**：对话是否自然、有趣、有价值直接影响用户留存；需持续优化prompt和生成策略。
- **记忆质量**：兴趣识别不准会影响推荐效果；V0.1可先做简单的收听历史统计，再迭代复杂算法。

---

以上 PRD 已结合你描述的「对话式播客、记忆、RSS/智能数据源、周期生成、TTS语音、开源与生态」，并参考 Huxe 的「个性化音频简报」和 NotebookLM 的「对话式内容呈现」思路做了对齐与细化。
如需把某一节改成表格、拆成单独文档或加「交互原型说明」，可以指定章节我帮你改一版。
