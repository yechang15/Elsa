# 播客首页优化 PRD

## 1. 产品背景

当前播客应用的播客列表功能较为基础，用户体验与主流音乐播放器（如QQ音乐、网易云音乐）存在差距。需要将播客列表升级为应用首页，提供更流畅的浏览和切换体验。

## 2. 产品目标

- 将播客列表转变为应用首页，成为用户的主要交互界面
- 提供类似音乐播放器的流畅体验
- 以话题为维度组织内容，方便用户发现和切换
- 优化视觉呈现，采用瀑布流式布局

## 3. 核心需求

### 3.1 首页定位
- **当前状态**: 播客列表是侧边栏导航中的一个选项
- **目标状态**: 播客列表成为应用的默认首页，用户打开应用即可看到
- **优先级**: P0

### 3.2 话题维度组织
- **功能描述**: 以话题为主要维度组织播客内容
  - 话题分类：AI技术、系统推荐、科技资讯、商业财经等
  - 每个话题下展示该话题相关的播客列表
  - 支持话题之间的快速切换
- **交互方式**:
  - 顶部横向话题标签栏（类似QQ音乐的歌单分类）
  - 点击话题标签切换到对应话题的播客列表
  - 支持左右滑动切换话题
- **优先级**: P0

### 3.3 瀑布流式布局
- **功能描述**: 采用瀑布流式的卡片布局展示播客
  - 每个播客以卡片形式呈现
  - 卡片包含：封面图、标题、话题标签、时长、播放进度
  - 支持流畅的滚动浏览
- **视觉设计**:
  - 卡片式设计，圆角、阴影效果
  - 封面图突出显示（可考虑根据话题自动生成）
  - 播放状态可视化（未听、进行中、已听完）
- **优先级**: P0

### 3.4 话题详情入口
- **功能描述**: 提供入口查看话题下的所有播客
  - 每个话题区域有"查看更多"入口
  - 点击进入话题详情页，展示该话题的完整播客列表
  - 话题详情页可显示话题描述、RSS源、播客数量等信息
- **优先级**: P1

### 3.5 简化顶部区域
- **功能描述**: 移除顶部的自动生成配置卡片
  - 自动生成配置移至设置页面
  - 顶部保持简洁，只显示话题标签栏和搜索/筛选功能
- **优先级**: P0

### 3.6 保留底部播放栏
- **功能描述**: 保持当前的底部播放控制栏
  - 显示当前播放的播客缩略图
  - 播放/暂停、进度条、倍速控制等功能保持不变
  - 可考虑增加播放列表入口
- **优先级**: P0

### 3.7 播客详情页
- **功能描述**: 为每个播客提供独立的详情页面，类似QQ音乐的歌曲详情页
  - 点击播客卡片（非播放按钮）进入详情页
  - 详情页展示完整的播客信息和内容
- **详情页内容**:
  - **头部区域**: 封面图、标题、话题标签、时长、创建日期
  - **播放控制**: 大号播放/暂停按钮、进度条、播放状态
  - **文稿标签页**: 完整的播客对话脚本，支持滚动阅读和文本选择
  - **来源标签页**: RSS源文章列表，包含标题、摘要、发布日期、原文链接
  - **操作按钮**: 播放、收藏、分享、删除等
- **交互设计**:
  - 支持标签页切换（文稿/来源）
  - 文稿支持全屏阅读模式
  - 来源文章支持点击跳转到原文
  - 返回按钮回到首页
- **扩展性设计**:
  - 预留对话交互入口（未来功能）
  - 预留语音交互入口（未来功能）
- **优先级**: P0

### 3.8 生成播客入口调整
- **功能描述**: 调整生成播客的入口位置
  - 移除右下角的浮动按钮
  - 在顶部导航栏或话题标签栏旁边添加"生成"按钮
  - 或在侧边栏添加"生成播客"选项
- **优先级**: P1

## 4. 用户场景

### 场景1: 用户打开应用
1. 用户打开应用
2. 直接看到首页，展示所有话题的播客
3. 默认显示"系统推荐"话题的播客
4. 用户可以快速浏览最新的播客内容

### 场景2: 用户切换话题
1. 用户在顶部话题标签栏点击"AI技术"
2. 页面切换到AI技术话题的播客列表
3. 用户可以看到该话题下的所有播客
4. 用户可以继续切换到其他话题

### 场景3: 用户查看话题详情
1. 用户在某个话题区域点击"查看更多"
2. 进入话题详情页
3. 看到该话题的完整播客列表、话题描述、RSS源等信息
4. 用户可以在详情页播放播客或返回首页

### 场景4: 用户查看播客详情
1. 用户在首页点击某个播客卡片
2. 进入播客详情页，看到完整的播客信息
3. 用户切换到"文稿"标签，阅读完整的对话脚本
4. 用户切换到"来源"标签，查看RSS源文章
5. 用户可以在详情页直接播放播客
6. 用户点击返回按钮回到首页

### 场景5: 用户播放播客
1. 用户在首页点击某个播客的播放按钮
2. 底部播放栏显示当前播客信息
3. 用户可以继续浏览其他播客
4. 底部播放栏始终可见，方便控制播放

## 5. 界面设计参考

### 5.1 整体布局
```
┌─────────────────────────────────────────────────┐
│  [侧边栏]  │  [首页内容区]                      │
│            │  ┌─────────────────────────────┐   │
│  - 首页    │  │ 话题标签栏                  │   │
│  - 兴趣话题│  │ [系统推荐] [AI技术] [科技]  │   │
│  - RSS源   │  └─────────────────────────────┘   │
│  - 历史    │  ┌─────────────────────────────┐   │
│  - 设置    │  │ 播客卡片（瀑布流）          │   │
│            │  │ ┌─────┐ ┌─────┐ ┌─────┐    │   │
│            │  │ │播客1│ │播客2│ │播客3│    │   │
│            │  │ └─────┘ └─────┘ └─────┘    │   │
│            │  │ ┌─────┐ ┌─────┐ ┌─────┐    │   │
│            │  │ │播客4│ │播客5│ │播客6│    │   │
│            │  │ └─────┘ └─────┘ └─────┘    │   │
│            │  └─────────────────────────────┘   │
├────────────┴──────────────────────────────────┤
│  [底部播放控制栏]                              │
│  [▶] 播客标题  ━━━━━━━━━━━━━━━━━━━━  [🔊] [1x] │
└─────────────────────────────────────────────────┘
```

### 5.2 播客卡片设计
```
┌─────────────────────────────┐
│  [封面图]                   │
│                             │
│  播客标题                   │
│  话题标签 · 时长 · 日期     │
│  ━━━━━━━━━━━━━━━━━━━━━━━  │
│  播放进度 50%               │
│  [▶ 播放] [查看详情]        │
└─────────────────────────────┘
```

### 5.3 播客详情页设计
```
┌─────────────────────────────────────────────────┐
│  [← 返回]                              [⋯ 更多] │
├─────────────────────────────────────────────────┤
│                                                 │
│              [封面图 - 大尺寸]                  │
│                                                 │
│              播客标题                           │
│         话题标签 · 时长 · 日期                  │
│                                                 │
│         [▶ 播放]  [♡ 收藏]  [↗ 分享]           │
│                                                 │
│         ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━         │
│         播放进度 50% · 已听 15分钟              │
│                                                 │
├─────────────────────────────────────────────────┤
│  [文稿] [来源]                                  │
├─────────────────────────────────────────────────┤
│                                                 │
│  【文稿标签页】                                 │
│  主持人A: 欢迎收听今天的播客...                 │
│  主持人B: 今天我们要讨论的话题是...             │
│  主持人A: 首先让我们来看看...                   │
│  主持人B: 这个观点很有意思...                   │
│  ...                                            │
│  (支持滚动阅读、文本选择、全屏模式)             │
│                                                 │
│  【来源标签页】                                 │
│  ┌───────────────────────────────────┐         │
│  │ 1. 文章标题                       │         │
│  │    文章摘要内容预览...            │         │
│  │    2024-02-19 · [查看原文]        │         │
│  └───────────────────────────────────┘         │
│  ┌───────────────────────────────────┐         │
│  │ 2. 文章标题                       │         │
│  │    文章摘要内容预览...            │         │
│  │    2024-02-18 · [查看原文]        │         │
│  └───────────────────────────────────┘         │
│  ┌───────────────────────────────────┐         │
│  │ 3. 文章标题                       │         │
│  │    文章摘要内容预览...            │         │
│  │    2024-02-17 · [查看原文]        │         │
│  └───────────────────────────────────┘         │
│                                                 │
│  【未来扩展入口】                               │
│  底部可预留对话交互和语音交互的入口按钮         │
│                                                 │
└─────────────────────────────────────────────────┘
```

## 6. 技术实现要点

### 6.1 数据模型调整
- 确保Podcast模型有话题关联字段
- 支持按话题查询播客
- 考虑添加封面图字段（可自动生成或使用默认图）

### 6.2 视图层重构
- 创建新的HomeView替代当前的PodcastListView
- 实现话题标签栏组件（TopicTabBar）
- 实现瀑布流布局（可使用LazyVGrid）
- 优化卡片组件（PodcastCard）
- **创建播客详情页（PodcastDetailView）**
  - 实现标签页切换（TabView）
  - 文稿视图（ScriptView）- 支持滚动、文本选择、全屏模式
  - 来源视图（SourceArticlesView）- 展示RSS源文章列表

### 6.3 导航调整
- 将首页设为默认导航目标
- 调整侧边栏导航逻辑
- 实现话题详情页（TopicDetailView）
- **实现播客详情页导航**
  - 使用NavigationLink或Sheet方式展示详情页
  - 支持从首页、话题详情页等多个入口进入
  - 详情页内支持播放控制，与底部播放栏联动

### 6.4 性能优化
- 使用LazyVStack/LazyVGrid实现懒加载
- 图片缓存机制
- 分页加载播客列表
- **详情页优化**
  - 文稿内容分段加载（如果内容过长）
  - 标签页内容按需加载
  - 图片和封面的异步加载

### 6.5 扩展性设计
- **预留对话交互接口**: 在详情页预留对话模块的UI和数据接口
- **预留语音交互接口**: 设计语音输入/输出的架构
- **模块化设计**: 详情页各个标签页独立组件，便于后续扩展

## 7. 实现优先级

### P0 (必须实现)
1. 首页定位调整
2. 话题维度组织
3. 瀑布流式布局
4. 简化顶部区域
5. 保留底部播放栏
6. **播客详情页**

### P1 (重要但可延后)
1. 话题详情入口
2. 生成播客入口调整
3. 封面图生成/显示
4. 详情页的收藏和分享功能

### P2 (可选优化)
1. 话题之间的滑动切换动画
2. 播客卡片的交互动画
3. 搜索和高级筛选功能
4. 播放列表功能

## 8. 成功指标

- 用户打开应用后能立即看到播客内容
- 话题切换流畅，无明显卡顿
- 播客卡片布局美观，信息清晰
- 底部播放栏功能正常，不影响浏览体验
- **播客详情页加载快速，内容展示完整**
- **文稿阅读体验良好，支持流畅滚动和文本选择**
- **来源文章信息清晰，跳转原文功能正常**

## 9. 风险与挑战

### 9.1 技术风险
- 瀑布流布局的性能优化
- 大量播客数据的加载和渲染

### 9.2 用户体验风险
- 话题分类是否符合用户预期
- 卡片信息密度是否合适
- **详情页信息层级是否清晰**
- **标签页切换是否流畅**
- **文稿阅读体验是否舒适**

### 9.3 缓解措施
- 采用懒加载和分页技术
- 进行用户测试，收集反馈
- 保留原有功能的访问路径，避免用户迷失
- **详情页采用标准的标签页设计模式**
- **文稿视图提供字体大小调节、夜间模式等选项**
- **提供快速返回和导航功能**

## 10. 后续迭代方向

- 个性化推荐算法
- 播客收藏和播放列表功能
- 社交分享功能
- 播客评论和评分
- 跨设备同步播放进度
- **对话交互功能**: 在播客详情页支持与AI对话，深入讨论播客内容
- **语音交互功能**: 支持语音提问和语音回复，提供更自然的交互体验
- **智能摘要**: 自动生成播客关键要点和时间戳
- **相关推荐**: 基于当前播客推荐相关内容
